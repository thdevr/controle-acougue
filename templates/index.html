{% extends 'shared/base.html' %}
{% load static %}

{% block content %}

    <!DOCTYPE html>
<html lang="pt-BR">
{% load static %}

<body>

    <main>
        <section id="home" class="section active">
            <h2>Bem-vindo ao Sistema de Controle de Açougue</h2>
            <div class="goal-section">
                <h3>Definir Meta Diária</h3>
                <form id="goal-form">
                    <input type="number" id="daily-goal" placeholder="Meta diária (R$)" step="0.01" required>
                    <button type="submit">Definir Meta</button>
                </form>
            </div>
            <div class="summary">
                <div class="card">
                    <h3>Vendas Hoje (R$)</h3>
                    <p id="total-sales-home">0.00</p>
                </div>
                <div class="card goal-card">
                    <h3>Meta Diária (R$)</h3>
                    <p id="daily-goal-display">0.00</p>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                    <p id="progress-text">0% da meta atingida</p>
                </div>
            </div>
            <div class="summary">
                <div class="card">
                    <h3>Total de Produtos</h3>
                    <p id="total-products">0</p>
                </div>
                <div class="card">
                    <h3>Lucro Líquido Hoje (R$)</h3>
                    <p id="net-profit-home">0.00</p>
                </div>
            </div>
        </section>

        <section id="inventory" class="section">
            <h2>Adicionar Estoque</h2>
            <form id="product-form">
                <input type="text" id="product-name" placeholder="Nome do produto" required>
                <input type="number" id="product-quantity" placeholder="Quantidade (kg)" step="0.1" required>
                <input type="number" id="product-price" placeholder="Preço por kg (R$)" step="0.01" required>
                <input type="number" id="product-cost" placeholder="Custo por kg (R$)" step="0.01" required>
                <input type="date" id="product-expiry" required>
                <button type="submit">Adicionar Produto</button>
            </form>

            <h2>Conferir Estoque</h2>
            <table id="inventory-table">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Quantidade (kg)</th>
                        <th>Preço/kg (R$)</th>
                        <th>Custo/kg (R$)</th>
                        <th>Data de Validade</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="sales" class="section">
            <h2>Realizar Vendas</h2>
            <form id="sale-form">
                <select id="sale-product" required>
                    <option value="">Selecione um produto</option>
                </select>
                <input type="number" id="sale-quantity" placeholder="Quantidade a vender (kg)" step="0.1" required>
                <button type="button" id="add-to-cart">Adicionar ao Carrinho</button>
            </form>

            <h3>Carrinho</h3>
            <table id="cart-table">
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>Quantidade (kg)</th>
                        <th>Preço/kg (R$)</th>
                        <th>Subtotal (R$)</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <br>
            <p>Total do carrinho: R$ <span id="cart-total">0.00</span></p>
            <br>

            <button type="button" id="finalize-sale">Finalizar Venda</button>
            <button type="button" id="print-receipt">Imprimir Notinha</button>
        </section>


        <section id="reports" class="section">
            <h2>Relatório de Vendas</h2>
            <table id="sales-table">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Produto</th>
                        <th>Quantidade (kg)</th>
                        <th>Valor (R$)</th>
                        <th>Lucro Líquido (R$)</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <p class="total">Total acumulado: R$ <span id="total-accumulated">0.00</span></p>
        </section>

        <section id="about" class="section">
            <h2>Sobre o Sistema</h2>
            <p>Este é um sistema simples para controle de estoque e vendas em um açougue. Desenvolvido com HTML, CSS e JavaScript. Dados são armazenados localmente no navegador.</p>
            <p>Versão: 1.3 (Com Carrinho de Vendas)</p>
        </section>
    </main>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>

{% endblock %}